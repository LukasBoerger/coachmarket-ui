<div class="coach-page" *ngIf="!isLoading && coach as c">
  <!-- HERO -->
  <section class="coach-hero">
    <div class="hero-left">
      <div class="avatar" [ngClass]="{ 'avatar-placeholder': !c.avatarUrl }">
        <img *ngIf="c.avatarUrl" [src]="c.avatarUrl" [alt]="c.name"/>
        <span *ngIf="!c.avatarUrl">{{ c.name[0] }}</span>
      </div>

      <div class="hero-text">
        <h1 class="coach-name">{{ c.name }}</h1>

        <div class="coach-meta">
          <span class="meta-pill location">
            üìç {{ c.city }}
          </span>

          <span class="meta-pill" *ngIf="c.remoteAvailable">Remote</span>
          <span class="meta-pill" *ngIf="c.inPersonAvailable">Vor Ort</span>
        </div>

        <p class="coach-tagline" *ngIf="c.tagline">
          {{ c.tagline }}
        </p>

        <div class="coach-tags">
          <span class="tag tag-main" *ngFor="let sport of c.sports">{{ sport }}</span>
          <span class="tag tag-secondary" *ngFor="let spec of c.specializations">
            {{ spec }}
          </span>
        </div>
      </div>
    </div>

    <div class="hero-right">
      <div class="price-block" *ngIf="c.priceFrom">
        <div class="price-line">
          <span class="price-amount">{{ c.priceFrom }} ‚Ç¨</span>
          <span class="price-unit" *ngIf="c.priceUnit">&nbsp;{{ c.priceUnit }}</span>
        </div>
        <div class="price-sub" *ngIf="c.freeIntro">
          üéÅ Kostenloses Kennenlern-Gespr√§ch (direkt mit dem Coach)
        </div>
      </div>

      <!-- üîΩ externer Kontakt-Link, keine Plattform-Funktion -->
      <a
        *ngIf="c.primaryContactUrl"
        class="primary-btn"
        [href]="c.primaryContactUrl"
        target="_blank"
        rel="noopener noreferrer"
      >
        {{ c.primaryContactLabel || 'Coach kontaktieren' }}
      </a>

      <div class="hero-note">
        Anfragen, Vertr√§ge & Zahlungen laufen direkt zwischen dir und dem Coach.
      </div>
    </div>

  </section>

  <!-- CONTENT LAYOUT -->
  <section class="coach-layout">
    <main class="coach-main">
      <!-- √úber Max -->
      <section class="card">
        <h2>√úber {{ c.name.split(' ')[0] || 'mich' }}</h2>
        <p class="card-text" *ngIf="c.description">
          {{ c.description }}
        </p>

        <div class="pill-row" *ngIf="c.focusAreas?.length">
          <h3>Fokus</h3>
          <div class="pills">
            <span class="pill" *ngFor="let f of c.focusAreas">{{ f }}</span>
          </div>
        </div>

        <div class="pill-row" *ngIf="c.methods?.length">
          <h3>So arbeite ich</h3>
          <ul class="list">
            <li *ngFor="let m of c.methods">{{ m }}</li>
          </ul>
        </div>
      </section>

      <!-- Was du von mir bekommst -->
      <section class="card">
        <h2>Was du von mir bekommst</h2>
        <ul class="list check-list">
          <li>Individueller Trainingsplan passend zu deinem Alltag</li>
          <li>Strukturierte Progression & Leistungs-Tracking</li>
          <li>Fokus auf Regeneration statt Hustle-Burnout</li>
          <li *ngIf="c.remoteAvailable">Online-Check-ins & Feedback per App/Video</li>
          <li *ngIf="c.inPersonAvailable">Optionale Vor-Ort-Sessions in {{ c.city }}</li>
        </ul>
      </section>
    </main>
  </section>

  <!-- Hinweise unter allen Boxen -->
  <section class="coach-notes" *ngIf="c.pricingNote || c.supportNote">
    <p class="note" *ngIf="c.pricingNote">
      {{ c.pricingNote }}
    </p>
    <p class="note" *ngIf="c.supportNote">
      {{ c.supportNote }}
      <a
        *ngIf="c.supportUrl"
        [href]="c.supportUrl"
        target="_blank"
        rel="noopener noreferrer"
      >
        Mehr erfahren
      </a>
    </p>
  </section>

</div>

<div *ngIf="isLoading" class="state-msg">Lade Coach‚Ä¶</div>
<div *ngIf="!isLoading && error" class="state-msg state-error">{{ error }}</div>
